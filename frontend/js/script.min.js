var closingTimeSeconds=5;function apiUrl(b){return"http://localhost:3000/api/v1/"+b}function checkErrors(){0<$("#calculator input.is-invalid").length?($("#calculatorError").slideDown(),$("#calculateBtn").attr("disabled","disabled")):($("#calculatorError").slideUp(),$("#calculateBtn").removeAttr("disabled"))}
$(document).ready(function(){var b,c=$("#calculator");$("#calculator input").change(function(a){a=$(a.target);isNaN(a.val())||0===a.val().trim().length?a.addClass("is-invalid"):a.removeClass("is-invalid");checkErrors()});$("#launchCalculatorBtn").click(function(){$("#result").fadeOut()});$("#calculateBtn").click(function(){$("#calculator input").each(function(a,b){a=$(b);isNaN(a.val())||0===a.val().trim().length?a.addClass("is-invalid"):a.removeClass("is-invalid");checkErrors()});0===$("#calculator input.is-invalid").length&&
$.getJSON(apiUrl("products/find-best-fit"),{length:$("#calculatorLengthInput").val(),width:$("#calculatorWidthInput").val(),height:$("#calculatorHeightInput").val(),weight:$("#calculatorWeightInput").val()},function(a){var c=$("#calculateBtn"),d=closingTimeSeconds;b=setInterval(function(){0<d?$("#calculateBtn").text("Closing in "+d--+"s"):(clearInterval(b),$("#calculator").modal("hide"))},1E3);a=a.product_type.name+" - "+a.name+" ("+a.length+'"x'+a.width+'"x'+a.height+'"@'+a.weight+"lbs)";$("#productNameModal").text(a);
$("#productName").text(a);$("#length").text($("#calculatorLengthInput").val()||0);$("#width").text($("#calculatorWidthInput").val()||0);$("#height").text($("#calculatorHeightInput").val()||0);$("#weight").text($("#calculatorWeightInput").val()||0);$("#resultModal").slideDown();c.attr("disabled","disabled");c.text("Closing in "+d--+"s")})});c.on("hidden.bs.modal",function(){var a=$("#calculateBtn");$("#calculatorLengthInput").val("");$("#calculatorWidthInput").val("");$("#calculatorHeightInput").val("");
$("#calculatorWeightInput").val("");$("#resultModal").slideUp(0);a.removeAttr("disabled");a.text("Calculate");clearInterval(b)});c.on("hide.bs.modal",function(){0<$("#productName").text().trim().length&&$("#result").fadeIn()})});
